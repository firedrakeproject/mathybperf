<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" width="1200" height="395" onload="init(evt)" viewBox="0 0 1200 395" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<!-- Flame graph stack visualization. See https://github.com/brendangregg/FlameGraph for latest version, and http://www.brendangregg.com/flamegraphs.html for examples. -->
<!-- NOTES:  -->
<defs>
	<linearGradient id="background" y1="0" y2="1" x1="0" x2="0" >
		<stop stop-color="#eeeeee" offset="5%" />
		<stop stop-color="#eeeeb0" offset="95%" />
	</linearGradient>
</defs>
<style type="text/css">
	text { font-family:Verdana; font-size:13px; fill:rgb(0,0,0); }
	#search, #ignorecase { opacity:0.1; cursor:pointer; }
	#search:hover, #search.show, #ignorecase:hover, #ignorecase.show { opacity:1; }
	#subtitle { text-anchor:middle; font-color:rgb(160,160,160); }
	#title { text-anchor:middle; font-size:18px}
	#unzoom { cursor:pointer; }
	#frames > *:hover { stroke:black; stroke-width:0.5; cursor:pointer; }
	.hide { display:none; }
	.parent { opacity:0.5; }
</style>
<script type="text/ecmascript">
<![CDATA[
	"use strict";
	var details, searchbtn, unzoombtn, matchedtxt, svg, searching, currentSearchTerm, ignorecase, ignorecaseBtn;
	function init(evt) {
		details = document.getElementById("details").firstChild;
		searchbtn = document.getElementById("search");
		ignorecaseBtn = document.getElementById("ignorecase");
		unzoombtn = document.getElementById("unzoom");
		matchedtxt = document.getElementById("matched");
		svg = document.getElementsByTagName("svg")[0];
		searching = 0;
		currentSearchTerm = null;

		// use GET parameters to restore a flamegraphs state.
		var params = get_params();
		if (params.x && params.y)
			zoom(find_group(document.querySelector('[x="' + params.x + '"][y="' + params.y + '"]')));
                if (params.s) search(params.s);
	}

	// event listeners
	window.addEventListener("click", function(e) {
		var target = find_group(e.target);
		if (target) {
			if (target.nodeName == "a") {
				if (e.ctrlKey === false) return;
				e.preventDefault();
			}
			if (target.classList.contains("parent")) unzoom();
			zoom(target);
			if (!document.querySelector('.parent')) {
				clearzoom();
				return;
			}

			// set parameters for zoom state
			var el = target.querySelector("rect");
			if (el && el.attributes && el.attributes.y && el.attributes._orig_x) {
				var params = get_params()
				params.x = el.attributes._orig_x.value;
				params.y = el.attributes.y.value;
				history.replaceState(null, null, parse_params(params));
			}
		}
		else if (e.target.id == "unzoom") clearzoom();
		else if (e.target.id == "search") search_prompt();
		else if (e.target.id == "ignorecase") toggle_ignorecase();
	}, false)

	// mouse-over for info
	// show
	window.addEventListener("mouseover", function(e) {
		var target = find_group(e.target);
		if (target) details.nodeValue = "Function: " + g_to_text(target);
	}, false)

	// clear
	window.addEventListener("mouseout", function(e) {
		var target = find_group(e.target);
		if (target) details.nodeValue = ' ';
	}, false)

	// ctrl-F for search
	// ctrl-I to toggle case-sensitive search
	window.addEventListener("keydown",function (e) {
		if (e.keyCode === 114 || (e.ctrlKey && e.keyCode === 70)) {
			e.preventDefault();
			search_prompt();
		}
		else if (e.ctrlKey && e.keyCode === 73) {
			e.preventDefault();
			toggle_ignorecase();
		}
	}, false)

	// functions
	function get_params() {
		var params = {};
		var paramsarr = window.location.search.substr(1).split('&');
		for (var i = 0; i < paramsarr.length; ++i) {
			var tmp = paramsarr[i].split("=");
			if (!tmp[0] || !tmp[1]) continue;
			params[tmp[0]]  = decodeURIComponent(tmp[1]);
		}
		return params;
	}
	function parse_params(params) {
		var uri = "?";
		for (var key in params) {
			uri += key + '=' + encodeURIComponent(params[key]) + '&';
		}
		if (uri.slice(-1) == "&")
			uri = uri.substring(0, uri.length - 1);
		if (uri == '?')
			uri = window.location.href.split('?')[0];
		return uri;
	}
	function find_child(node, selector) {
		var children = node.querySelectorAll(selector);
		if (children.length) return children[0];
	}
	function find_group(node) {
		var parent = node.parentElement;
		if (!parent) return;
		if (parent.id == "frames") return node;
		return find_group(parent);
	}
	function orig_save(e, attr, val) {
		if (e.attributes["_orig_" + attr] != undefined) return;
		if (e.attributes[attr] == undefined) return;
		if (val == undefined) val = e.attributes[attr].value;
		e.setAttribute("_orig_" + attr, val);
	}
	function orig_load(e, attr) {
		if (e.attributes["_orig_"+attr] == undefined) return;
		e.attributes[attr].value = e.attributes["_orig_" + attr].value;
		e.removeAttribute("_orig_"+attr);
	}
	function g_to_text(e) {
		var text = find_child(e, "title").firstChild.nodeValue;
		return (text)
	}
	function g_to_func(e) {
		var func = g_to_text(e);
		// if there's any manipulation we want to do to the function
		// name before it's searched, do it here before returning.
		return (func);
	}
	function update_text(e) {
		var r = find_child(e, "rect");
		var t = find_child(e, "text");
		var w = parseFloat(r.attributes.width.value) -3;
		var txt = find_child(e, "title").textContent.replace(/\([^(]*\)$/,"");
		t.attributes.x.value = parseFloat(r.attributes.x.value) + 3;

		// Smaller than this size won't fit anything
		if (w < 2 * 13 * 0.59) {
			t.textContent = "";
			return;
		}

		t.textContent = txt;
		// Fit in full text width
		if (/^ *$/.test(txt) || t.getSubStringLength(0, txt.length) < w)
			return;

		for (var x = txt.length - 2; x > 0; x--) {
			if (t.getSubStringLength(0, x + 2) <= w) {
				t.textContent = txt.substring(0, x) + "..";
				return;
			}
		}
		t.textContent = "";
	}

	// zoom
	function zoom_reset(e) {
		if (e.attributes != undefined) {
			orig_load(e, "x");
			orig_load(e, "width");
		}
		if (e.childNodes == undefined) return;
		for (var i = 0, c = e.childNodes; i < c.length; i++) {
			zoom_reset(c[i]);
		}
	}
	function zoom_child(e, x, ratio) {
		if (e.attributes != undefined) {
			if (e.attributes.x != undefined) {
				orig_save(e, "x");
				e.attributes.x.value = (parseFloat(e.attributes.x.value) - x - 10) * ratio + 10;
				if (e.tagName == "text")
					e.attributes.x.value = find_child(e.parentNode, "rect[x]").attributes.x.value + 3;
			}
			if (e.attributes.width != undefined) {
				orig_save(e, "width");
				e.attributes.width.value = parseFloat(e.attributes.width.value) * ratio;
			}
		}

		if (e.childNodes == undefined) return;
		for (var i = 0, c = e.childNodes; i < c.length; i++) {
			zoom_child(c[i], x - 10, ratio);
		}
	}
	function zoom_parent(e) {
		if (e.attributes) {
			if (e.attributes.x != undefined) {
				orig_save(e, "x");
				e.attributes.x.value = 10;
			}
			if (e.attributes.width != undefined) {
				orig_save(e, "width");
				e.attributes.width.value = parseInt(svg.width.baseVal.value) - (10 * 2);
			}
		}
		if (e.childNodes == undefined) return;
		for (var i = 0, c = e.childNodes; i < c.length; i++) {
			zoom_parent(c[i]);
		}
	}
	function zoom(node) {
		var attr = find_child(node, "rect").attributes;
		var width = parseFloat(attr.width.value);
		var xmin = parseFloat(attr.x.value);
		var xmax = parseFloat(xmin + width);
		var ymin = parseFloat(attr.y.value);
		var ratio = (svg.width.baseVal.value - 2 * 10) / width;

		// XXX: Workaround for JavaScript float issues (fix me)
		var fudge = 0.0001;

		unzoombtn.classList.remove("hide");

		var el = document.getElementById("frames").children;
		for (var i = 0; i < el.length; i++) {
			var e = el[i];
			var a = find_child(e, "rect").attributes;
			var ex = parseFloat(a.x.value);
			var ew = parseFloat(a.width.value);
			var upstack;
			// Is it an ancestor
			if (1 == 0) {
				upstack = parseFloat(a.y.value) > ymin;
			} else {
				upstack = parseFloat(a.y.value) < ymin;
			}
			if (upstack) {
				// Direct ancestor
				if (ex <= xmin && (ex+ew+fudge) >= xmax) {
					e.classList.add("parent");
					zoom_parent(e);
					update_text(e);
				}
				// not in current path
				else
					e.classList.add("hide");
			}
			// Children maybe
			else {
				// no common path
				if (ex < xmin || ex + fudge >= xmax) {
					e.classList.add("hide");
				}
				else {
					zoom_child(e, xmin, ratio);
					update_text(e);
				}
			}
		}
		search();
	}
	function unzoom() {
		unzoombtn.classList.add("hide");
		var el = document.getElementById("frames").children;
		for(var i = 0; i < el.length; i++) {
			el[i].classList.remove("parent");
			el[i].classList.remove("hide");
			zoom_reset(el[i]);
			update_text(el[i]);
		}
		search();
	}
	function clearzoom() {
		unzoom();

		// remove zoom state
		var params = get_params();
		if (params.x) delete params.x;
		if (params.y) delete params.y;
		history.replaceState(null, null, parse_params(params));
	}

	// search
	function toggle_ignorecase() {
		ignorecase = !ignorecase;
		if (ignorecase) {
			ignorecaseBtn.classList.add("show");
		} else {
			ignorecaseBtn.classList.remove("show");
		}
		reset_search();
		search();
	}
	function reset_search() {
		var el = document.querySelectorAll("#frames rect");
		for (var i = 0; i < el.length; i++) {
			orig_load(el[i], "fill")
		}
		var params = get_params();
		delete params.s;
		history.replaceState(null, null, parse_params(params));
	}
	function search_prompt() {
		if (!searching) {
			var term = prompt("Enter a search term (regexp " +
			    "allowed, eg: ^ext4_)"
			    + (ignorecase ? ", ignoring case" : "")
			    + "\nPress Ctrl-i to toggle case sensitivity", "");
			if (term != null) search(term);
		} else {
			reset_search();
			searching = 0;
			currentSearchTerm = null;
			searchbtn.classList.remove("show");
			searchbtn.firstChild.nodeValue = "Search"
			matchedtxt.classList.add("hide");
			matchedtxt.firstChild.nodeValue = ""
		}
	}
	function search(term) {
		if (term) currentSearchTerm = term;

		var re = new RegExp(currentSearchTerm, ignorecase ? 'i' : '');
		var el = document.getElementById("frames").children;
		var matches = new Object();
		var maxwidth = 0;
		for (var i = 0; i < el.length; i++) {
			var e = el[i];
			var func = g_to_func(e);
			var rect = find_child(e, "rect");
			if (func == null || rect == null)
				continue;

			// Save max width. Only works as we have a root frame
			var w = parseFloat(rect.attributes.width.value);
			if (w > maxwidth)
				maxwidth = w;

			if (func.match(re)) {
				// highlight
				var x = parseFloat(rect.attributes.x.value);
				orig_save(rect, "fill");
				rect.attributes.fill.value = "rgb(230,0,230)";

				// remember matches
				if (matches[x] == undefined) {
					matches[x] = w;
				} else {
					if (w > matches[x]) {
						// overwrite with parent
						matches[x] = w;
					}
				}
				searching = 1;
			}
		}
		if (!searching)
			return;
		var params = get_params();
		params.s = currentSearchTerm;
		history.replaceState(null, null, parse_params(params));

		searchbtn.classList.add("show");
		searchbtn.firstChild.nodeValue = "Reset Search";

		// calculate percent matched, excluding vertical overlap
		var count = 0;
		var lastx = -1;
		var lastw = 0;
		var keys = Array();
		for (k in matches) {
			if (matches.hasOwnProperty(k))
				keys.push(k);
		}
		// sort the matched frames by their x location
		// ascending, then width descending
		keys.sort(function(a, b){
			return a - b;
		});
		// Step through frames saving only the biggest bottom-up frames
		// thanks to the sort order. This relies on the tree property
		// where children are always smaller than their parents.
		var fudge = 0.0001;	// JavaScript floating point
		for (var k in keys) {
			var x = parseFloat(keys[k]);
			var w = matches[keys[k]];
			if (x >= lastx + lastw - fudge) {
				count += w;
				lastx = x;
				lastw = w;
			}
		}
		// display matched percent
		matchedtxt.classList.remove("hide");
		var pct = 100 * count / maxwidth;
		if (pct != 100) pct = pct.toFixed(1)
		matchedtxt.firstChild.nodeValue = "Matched: " + pct + "%";
	}
]]>
</script>
<rect x="0.0" y="0" width="1200.0" height="395.0" fill="url(#background)"  />
<text id="title" x="600.00" y="26" >Firedrake example</text>
<text id="details" x="10.00" y="377" > </text>
<text id="unzoom" x="10.00" y="26" class="hide">Reset Zoom</text>
<text id="search" x="1090.00" y="26" >Search</text>
<text id="ignorecase" x="1174.00" y="26" >ic</text>
<text id="matched" x="1090.00" y="377" > </text>
<g id="frames">
<g >
<title>firedrake.mg.interface.prolong (3,491,919 us, 0.30%)</title><rect x="930.5" y="279" width="3.5" height="15.0" fill="rgb(145.217227139844,154.685947776997,154.685947776997)" rx="2" ry="2" />
<text  x="933.49" y="289.5" ></text>
</g>
<g >
<title>ParLoopExecute (2,341,463 us, 0.20%)</title><rect x="775.1" y="199" width="2.4" height="15.0" fill="rgb(124.489262326536,163.455236365448,124.489262326536)" rx="2" ry="2" />
<text  x="778.12" y="209.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (1,444,069 us, 0.12%)</title><rect x="1124.9" y="199" width="1.4" height="15.0" fill="rgb(150.124144103655,159.282116076149,150.124144103655)" rx="2" ry="2" />
<text  x="1127.86" y="209.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (11,031,643 us, 0.94%)</title><rect x="830.6" y="231" width="11.1" height="15.0" fill="rgb(155.271210392388,137.079279674978,137.079279674978)" rx="2" ry="2" />
<text  x="833.62" y="241.5" ></text>
</g>
<g >
<title>ParLoopExecute (285,282 us, 0.02%)</title><rect x="925.9" y="295" width="0.2" height="15.0" fill="rgb(155.946611531379,142.257355073904,142.257355073904)" rx="2" ry="2" />
<text  x="928.86" y="305.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble (26,907,444 us, 2.30%)</title><rect x="1162.9" y="135" width="27.1" height="15.0" fill="rgb(135.346773992286,135.346773992286,153.615504643668)" rx="2" ry="2" />
<text  x="1165.91" y="145.5" >f..</text>
</g>
<g >
<title>MatMult (144,464 us, 0.01%)</title><rect x="899.2" y="183" width="0.2" height="15.0" fill="rgb(143.079194233496,154.131642949425,154.131642949425)" rx="2" ry="2" />
<text  x="902.21" y="193.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (822,424 us, 0.07%)</title><rect x="1103.2" y="311" width="0.8" height="15.0" fill="rgb(153.248679706101,121.573211080111,121.573211080111)" rx="2" ry="2" />
<text  x="1106.18" y="321.5" ></text>
</g>
<g >
<title>PCApply (12,181,701 us, 1.04%)</title><rect x="922.0" y="199" width="12.2" height="15.0" fill="rgb(132.646464795469,162.127319684458,132.646464795469)" rx="2" ry="2" />
<text  x="924.98" y="209.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble_form (17,744,216 us, 1.51%)</title><rect x="1132.4" y="199" width="17.9" height="15.0" fill="rgb(123.501995617784,149.056072937944,149.056072937944)" rx="2" ry="2" />
<text  x="1135.41" y="209.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (1,595,738 us, 0.14%)</title><rect x="1108.9" y="343" width="1.6" height="15.0" fill="rgb(117.177443672894,147.416374285565,147.416374285565)" rx="2" ry="2" />
<text  x="1111.91" y="353.5" ></text>
</g>
<g >
<title>firedrake.variational_solver.NonlinearVariationalSolver.solve (976,872,214 us, 83.34%)</title><rect x="206.6" y="87" width="983.4" height="15.0" fill="rgb(127.254949106325,163.005008285017,127.254949106325)" rx="2" ry="2" />
<text  x="209.61" y="97.5" >firedrake.variational_solver.NonlinearVariationalSolver.solve</text>
</g>
<g >
<title>HybridBreak (4,698,119 us, 0.40%)</title><rect x="772.7" y="167" width="4.8" height="15.0" fill="rgb(153.958391899698,127.014337897685,127.014337897685)" rx="2" ry="2" />
<text  x="775.75" y="177.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble_form (40,530,314 us, 3.46%)</title><rect x="805.5" y="199" width="40.8" height="15.0" fill="rgb(143.703553480751,154.29351386538,154.29351386538)" rx="2" ry="2" />
<text  x="808.50" y="209.5" >fir..</text>
</g>
<g >
<title>firedrake.assemble.assemble_form (19,861,823 us, 1.69%)</title><rect x="1170.0" y="151" width="20.0" height="15.0" fill="rgb(150.000161032212,159.302299366849,150.000161032212)" rx="2" ry="2" />
<text  x="1173.01" y="161.5" ></text>
</g>
<g >
<title>PCSetUp (31,326,010 us, 2.67%)</title><rect x="1084.3" y="215" width="31.5" height="15.0" fill="rgb(137.925755594143,152.795566265148,152.795566265148)" rx="2" ry="2" />
<text  x="1087.26" y="225.5" >PC..</text>
</g>
<g >
<title>firedrake.pointquery_utils.to_reference_coordinates (352,826 us, 0.03%)</title><rect x="933.7" y="295" width="0.3" height="15.0" fill="rgb(128.621183346043,162.782598059947,128.621183346043)" rx="2" ry="2" />
<text  x="936.65" y="305.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble_form (58,910,723 us, 5.03%)</title><rect x="639.0" y="199" width="59.3" height="15.0" fill="rgb(132.615694475696,92.9527170939712,132.615694475696)" rx="2" ry="2" />
<text  x="642.01" y="209.5" >fired..</text>
</g>
<g >
<title>ParLoopExecute (2,890,920 us, 0.25%)</title><rect x="1123.4" y="183" width="2.9" height="15.0" fill="rgb(112.221765252119,146.131568769068,146.131568769068)" rx="2" ry="2" />
<text  x="1126.40" y="193.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (873,870 us, 0.07%)</title><rect x="1114.5" y="279" width="0.9" height="15.0" fill="rgb(120.008040009964,148.150232595176,148.150232595176)" rx="2" ry="2" />
<text  x="1117.51" y="289.5" ></text>
</g>
<g >
<title>HybridRHS (68,366,344 us, 5.83%)</title><rect x="777.5" y="167" width="68.8" height="15.0" fill="rgb(137.95331168713,161.263414376514,137.95331168713)" rx="2" ry="2" />
<text  x="780.48" y="177.5" >Hybrid..</text>
</g>
<g >
<title>PCSetUp (34,281,271 us, 2.92%)</title><rect x="1115.8" y="167" width="34.5" height="15.0" fill="rgb(156.648730900693,147.640270238648,147.640270238648)" rx="2" ry="2" />
<text  x="1118.80" y="177.5" >PC..</text>
</g>
<g >
<title>firedrake.assemble.assemble (118,534 us, 0.01%)</title><rect x="934.1" y="263" width="0.1" height="15.0" fill="rgb(137.994722870631,137.994722870631,154.128010878187)" rx="2" ry="2" />
<text  x="937.13" y="273.5" ></text>
</g>
<g >
<title>firedrake.interpolation.Interpolator.interpolate (4,790,188 us, 0.41%)</title><rect x="1105.7" y="311" width="4.8" height="15.0" fill="rgb(152.956266249882,119.331374582432,119.331374582432)" rx="2" ry="2" />
<text  x="1108.69" y="321.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (5,657,119 us, 0.48%)</title><rect x="1144.2" y="231" width="5.7" height="15.0" fill="rgb(151.640725322813,151.640725322813,127.181976564404)" rx="2" ry="2" />
<text  x="1147.20" y="241.5" ></text>
</g>
<g >
<title>firedrake.extrusion_utils.make_extruded_coords (5,202,448 us, 0.44%)</title><rect x="107.8" y="87" width="5.2" height="15.0" fill="rgb(130.864882920007,130.864882920007,152.748041855485)" rx="2" ry="2" />
<text  x="110.80" y="97.5" ></text>
</g>
<g >
<title>ParLoopExecute (25,816,664 us, 2.20%)</title><rect x="1052.9" y="311" width="26.0" height="15.0" fill="rgb(127.224710552544,127.224710552544,152.043492365008)" rx="2" ry="2" />
<text  x="1055.93" y="321.5" >P..</text>
</g>
<g >
<title>CreateExtMesh (7,041,800 us, 0.60%)</title><rect x="106.0" y="71" width="7.1" height="15.0" fill="rgb(118.754494493205,147.825239313053,147.825239313053)" rx="2" ry="2" />
<text  x="109.00" y="81.5" ></text>
</g>
<g >
<title>PCApply (674,219,147 us, 57.52%)</title><rect x="471.6" y="135" width="678.7" height="15.0" fill="rgb(147.435038246192,159.719877494806,147.435038246192)" rx="2" ry="2" />
<text  x="474.59" y="145.5" >PCApply</text>
</g>
<g >
<title>MatMult (882,244 us, 0.08%)</title><rect x="925.3" y="231" width="0.8" height="15.0" fill="rgb(131.719503931243,151.186538056248,151.186538056248)" rx="2" ry="2" />
<text  x="928.26" y="241.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble (23,789,210 us, 2.03%)</title><rect x="1126.3" y="183" width="24.0" height="15.0" fill="rgb(152.449940951691,152.449940951691,131.103559996655)" rx="2" ry="2" />
<text  x="1129.33" y="193.5" >f..</text>
</g>
<g >
<title>PCSetUp (180,349,079 us, 15.39%)</title><rect x="934.2" y="199" width="181.6" height="15.0" fill="rgb(140.658351878899,160.823058996458,140.658351878899)" rx="2" ry="2" />
<text  x="937.25" y="209.5" >PCSetUp</text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (12,819,940 us, 1.09%)</title><rect x="1066.0" y="327" width="12.9" height="15.0" fill="rgb(154.215639112583,154.215639112583,139.660404930212)" rx="2" ry="2" />
<text  x="1069.02" y="337.5" ></text>
</g>
<g >
<title>firedrake.slate.slac.compiler.compile_expression (6,905,192 us, 0.59%)</title><rect x="750.6" y="199" width="6.9" height="15.0" fill="rgb(151.740947288404,151.740947288404,127.667667628419)" rx="2" ry="2" />
<text  x="753.60" y="209.5" ></text>
</g>
<g >
<title>ParLoopExecute (1,707,057 us, 0.15%)</title><rect x="931.9" y="295" width="1.8" height="15.0" fill="rgb(134.878599761717,161.763948876,134.878599761717)" rx="2" ry="2" />
<text  x="934.94" y="305.5" ></text>
</g>
<g >
<title>KSPSolve (10,326,977 us, 0.88%)</title><rect x="923.6" y="215" width="10.4" height="15.0" fill="rgb(156.744766910586,148.376546314492,148.376546314492)" rx="2" ry="2" />
<text  x="926.64" y="225.5" ></text>
</g>
<g >
<title>MatMult (95,828,478 us, 8.18%)</title><rect x="987.8" y="247" width="96.5" height="15.0" fill="rgb(144.248508258039,160.238614934738,144.248508258039)" rx="2" ry="2" />
<text  x="990.80" y="257.5" >MatMult</text>
</g>
<g >
<title>firedrake.parloops.par_loop (4,969,183 us, 0.42%)</title><rect x="593.4" y="183" width="5.0" height="15.0" fill="rgb(134.283993554216,151.851405736278,151.851405736278)" rx="2" ry="2" />
<text  x="596.42" y="193.5" ></text>
</g>
<g >
<title>SNESFunctionEval (33,953,475 us, 2.90%)</title><rect x="1155.8" y="119" width="34.2" height="15.0" fill="rgb(118.120855421474,118.120855421474,150.281455888027)" rx="2" ry="2" />
<text  x="1158.82" y="129.5" >SN..</text>
</g>
<g >
<title>PCSetUp (5,474,264 us, 0.47%)</title><rect x="1150.3" y="119" width="5.5" height="15.0" fill="rgb(125.185093484519,125.185093484519,151.648727771197)" rx="2" ry="2" />
<text  x="1153.31" y="129.5" ></text>
</g>
<g >
<title>ParLoopExecute (31,651,464 us, 2.70%)</title><rect x="659.3" y="215" width="31.9" height="15.0" fill="rgb(145.538641807975,145.538641807975,155.588124220898)" rx="2" ry="2" />
<text  x="662.31" y="225.5" >Pa..</text>
</g>
<g >
<title>firedrake.__init__ (2,178,134 us, 0.19%)</title><rect x="113.2" y="71" width="2.2" height="15.0" fill="rgb(129.297910250885,162.672433214972,129.297910250885)" rx="2" ry="2" />
<text  x="116.18" y="81.5" ></text>
</g>
<g >
<title>MatMultTranspose (4,719,747 us, 0.40%)</title><rect x="1111.0" y="231" width="4.8" height="15.0" fill="rgb(141.740152063336,153.784483868272,153.784483868272)" rx="2" ry="2" />
<text  x="1114.05" y="241.5" ></text>
</g>
<g >
<title>firedrake.matrix_free.operators.ImplicitMatrixContext.mult (730,282 us, 0.06%)</title><rect x="925.4" y="247" width="0.7" height="15.0" fill="rgb(124.49566891632,163.454193432227,124.49566891632)" rx="2" ry="2" />
<text  x="928.41" y="257.5" ></text>
</g>
<g >
<title>KSPSolve (112,009,457 us, 9.56%)</title><rect x="971.5" y="231" width="112.8" height="15.0" fill="rgb(113.832506807886,113.832506807886,149.451452930559)" rx="2" ry="2" />
<text  x="974.51" y="241.5" >KSPSolve</text>
</g>
<g >
<title>firedrake.matrix_free.operators.ImplicitMatrixContext.mult (79,649,000 us, 6.79%)</title><rect x="1004.1" y="263" width="80.2" height="15.0" fill="rgb(147.854903717969,147.854903717969,108.835302633236)" rx="2" ry="2" />
<text  x="1007.08" y="273.5" >firedrak..</text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (1,715,202 us, 0.15%)</title><rect x="111.3" y="119" width="1.7" height="15.0" fill="rgb(140.339071210342,140.339071210342,154.581755718131)" rx="2" ry="2" />
<text  x="114.31" y="129.5" ></text>
</g>
<g >
<title>MatMult (181,369 us, 0.02%)</title><rect x="934.1" y="231" width="0.1" height="15.0" fill="rgb(153.286164722301,121.860596204307,121.860596204307)" rx="2" ry="2" />
<text  x="937.06" y="241.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble (578,554 us, 0.05%)</title><rect x="925.6" y="263" width="0.5" height="15.0" fill="rgb(152.911761843141,118.990174130747,118.990174130747)" rx="2" ry="2" />
<text  x="928.56" y="273.5" ></text>
</g>
<g >
<title>KSPSolve (756,494,231 us, 64.54%)</title><rect x="388.8" y="119" width="761.5" height="15.0" fill="rgb(137.346981953465,161.362119216878,137.346981953465)" rx="2" ry="2" />
<text  x="391.77" y="129.5" >KSPSolve</text>
</g>
<g >
<title>firedrake.slate.slac.compiler.compile_expression (4,539,560 us, 0.39%)</title><rect x="841.7" y="215" width="4.6" height="15.0" fill="rgb(142.514918999978,153.985349370365,153.985349370365)" rx="2" ry="2" />
<text  x="844.73" y="225.5" ></text>
</g>
<g >
<title>ParLoopExecute (3,192,870 us, 0.27%)</title><rect x="1107.3" y="327" width="3.2" height="15.0" fill="rgb(132.362142335367,162.173604736103,132.362142335367)" rx="2" ry="2" />
<text  x="1110.30" y="337.5" ></text>
</g>
<g >
<title>firedrake.mg.interface.restrict (3,436,182 us, 0.29%)</title><rect x="1112.3" y="247" width="3.5" height="15.0" fill="rgb(147.832395337086,147.832395337086,108.726223556647)" rx="2" ry="2" />
<text  x="1115.34" y="257.5" ></text>
</g>
<g >
<title>PCApply (215,005,208 us, 18.34%)</title><rect x="899.4" y="183" width="216.4" height="15.0" fill="rgb(127.8856846715,127.8856846715,152.171422839645)" rx="2" ry="2" />
<text  x="902.36" y="193.5" >PCApply</text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (1,054,623 us, 0.09%)</title><rect x="1154.8" y="183" width="1.0" height="15.0" fill="rgb(131.216064019461,151.056016597638,151.056016597638)" rx="2" ry="2" />
<text  x="1157.76" y="193.5" ></text>
</g>
<g >
<title>firedrake.tsfc_interface.compile_form (2,657,678 us, 0.23%)</title><rect x="754.9" y="215" width="2.6" height="15.0" fill="rgb(154.805024211996,133.505185625302,133.505185625302)" rx="2" ry="2" />
<text  x="757.87" y="225.5" ></text>
</g>
<g >
<title>firedrake.parloops.par_loop (3,519,496 us, 0.30%)</title><rect x="773.9" y="183" width="3.6" height="15.0" fill="rgb(149.130108364236,159.443935847682,149.130108364236)" rx="2" ry="2" />
<text  x="776.93" y="193.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble (63,469,836 us, 5.41%)</title><rect x="1020.4" y="279" width="63.9" height="15.0" fill="rgb(104.594952794193,144.154247020717,144.154247020717)" rx="2" ry="2" />
<text  x="1023.37" y="289.5" >firedr..</text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (852,428 us, 0.07%)</title><rect x="932.8" y="311" width="0.9" height="15.0" fill="rgb(124.718537340063,124.718537340063,151.558426581948)" rx="2" ry="2" />
<text  x="935.80" y="321.5" ></text>
</g>
<g >
<title>firedrake.dmhooks.coarsen (18,613,885 us, 1.59%)</title><rect x="1092.3" y="247" width="18.7" height="15.0" fill="rgb(117.542692807409,147.511068505624,147.511068505624)" rx="2" ry="2" />
<text  x="1095.31" y="257.5" ></text>
</g>
<g >
<title>DMCoarsen (21,956,473 us, 1.87%)</title><rect x="1088.9" y="231" width="22.1" height="15.0" fill="rgb(148.879287213595,148.879287213595,113.799622650499)" rx="2" ry="2" />
<text  x="1091.94" y="241.5" ></text>
</g>
<g >
<title>firedrake.tsfc_interface.compile_form (2,049,180 us, 0.17%)</title><rect x="1082.2" y="327" width="2.1" height="15.0" fill="rgb(133.074767846048,94.1290926054974,133.074767846048)" rx="2" ry="2" />
<text  x="1085.20" y="337.5" ></text>
</g>
<g >
<title>firedrake.variational_solver.LinearVariationalProblem.__init__ (103,256 us, 0.01%)</title><rect x="115.4" y="71" width="0.1" height="15.0" fill="rgb(142.07718786548,160.592085696317,142.07718786548)" rx="2" ry="2" />
<text  x="118.37" y="81.5" ></text>
</g>
<g >
<title>HybridProject (6,640,685 us, 0.57%)</title><rect x="591.7" y="167" width="6.7" height="15.0" fill="rgb(139.606399145331,160.994307115876,139.606399145331)" rx="2" ry="2" />
<text  x="594.74" y="177.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble (58,839,641 us, 5.02%)</title><rect x="698.3" y="167" width="59.2" height="15.0" fill="rgb(150.678139297541,150.678139297541,122.517136595774)" rx="2" ry="2" />
<text  x="701.32" y="177.5" >fired..</text>
</g>
<g >
<title>firedrake.mg.interface.inject (11,954,985 us, 1.02%)</title><rect x="1099.0" y="279" width="12.0" height="15.0" fill="rgb(154.985741518886,154.985741518886,143.392439668449)" rx="2" ry="2" />
<text  x="1102.01" y="289.5" ></text>
</g>
<g >
<title>ParLoopExecute (3,301,517 us, 0.28%)</title><rect x="595.1" y="199" width="3.3" height="15.0" fill="rgb(131.878299650141,131.878299650141,152.94418702906)" rx="2" ry="2" />
<text  x="598.10" y="209.5" ></text>
</g>
<g >
<title>MatMult (6,357,814 us, 0.54%)</title><rect x="927.6" y="247" width="6.4" height="15.0" fill="rgb(120.689897719605,120.689897719605,150.778689881214)" rx="2" ry="2" />
<text  x="930.61" y="257.5" ></text>
</g>
<g >
<title>firedrake.matrix_free.operators.ImplicitMatrixContext.mult (149,894 us, 0.01%)</title><rect x="934.1" y="247" width="0.1" height="15.0" fill="rgb(127.039512024372,149.973206821133,149.973206821133)" rx="2" ry="2" />
<text  x="937.10" y="257.5" ></text>
</g>
<g >
<title>SCSolve (301,994,386 us, 25.76%)</title><rect x="846.3" y="151" width="304.0" height="15.0" fill="rgb(150.308113761258,150.308113761258,120.723935919943)" rx="2" ry="2" />
<text  x="849.30" y="161.5" >SCSolve</text>
</g>
<g >
<title>ParLoopExecute (22,072,977 us, 1.88%)</title><rect x="819.5" y="215" width="22.2" height="15.0" fill="rgb(154.398488645546,154.398488645546,140.546521897647)" rx="2" ry="2" />
<text  x="822.51" y="225.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble_form (47,296,573 us, 4.03%)</title><rect x="1036.7" y="295" width="47.6" height="15.0" fill="rgb(136.106949253123,161.563985005306,136.106949253123)" rx="2" ry="2" />
<text  x="1039.65" y="305.5" >fire..</text>
</g>
<g >
<title>firedrake.slate.slac.compiler.compile_expression (7,099,318 us, 0.61%)</title><rect x="691.2" y="215" width="7.1" height="15.0" fill="rgb(155.781740525579,140.993344029438,140.993344029438)" rx="2" ry="2" />
<text  x="694.17" y="225.5" ></text>
</g>
<g >
<title>SNESSolve (886,381,742 us, 75.62%)</title><rect x="297.7" y="103" width="892.3" height="15.0" fill="rgb(155.016771157453,155.016771157453,143.542814070733)" rx="2" ry="2" />
<text  x="300.70" y="113.5" >SNESSolve</text>
</g>
<g >
<title>KSPSetUp (128,190,926 us, 10.94%)</title><rect x="955.2" y="215" width="129.1" height="15.0" fill="rgb(153.019376699929,153.019376699929,133.863133238119)" rx="2" ry="2" />
<text  x="958.22" y="225.5" >KSPSetUp</text>
</g>
<g >
<title>ParLoopExecute (11,317,761 us, 0.97%)</title><rect x="1138.5" y="215" width="11.4" height="15.0" fill="rgb(133.01215383215,151.521669512039,151.521669512039)" rx="2" ry="2" />
<text  x="1141.50" y="225.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (1,648,960 us, 0.14%)</title><rect x="596.8" y="215" width="1.6" height="15.0" fill="rgb(116.66001242779,116.66001242779,149.998712082798)" rx="2" ry="2" />
<text  x="599.76" y="225.5" ></text>
</g>
<g >
<title>firedrake.tsfc_interface.compile_form (381,699 us, 0.03%)</title><rect x="1149.9" y="215" width="0.4" height="15.0" fill="rgb(155.946316425841,142.255092598117,142.255092598117)" rx="2" ry="2" />
<text  x="1152.89" y="225.5" ></text>
</g>
<g >
<title>firedrake.interpolation.interpolate (6,539,801 us, 0.56%)</title><rect x="1104.0" y="295" width="6.6" height="15.0" fill="rgb(153.751798100739,153.751798100739,137.412560026657)" rx="2" ry="2" />
<text  x="1107.01" y="305.5" ></text>
</g>
<g >
<title>firedrake (1,172,177,348 us, 100.00%)</title><rect x="10.0" y="55" width="1180.0" height="15.0" fill="rgb(152.994846691693,119.627157969645,119.627157969645)" rx="2" ry="2" />
<text  x="13.00" y="65.5" >firedrake</text>
</g>
<g >
<title>SCForwardElim (88,161,204 us, 7.52%)</title><rect x="757.5" y="151" width="88.8" height="15.0" fill="rgb(134.614353974679,151.937054734176,151.937054734176)" rx="2" ry="2" />
<text  x="760.55" y="161.5" >SCForward..</text>
</g>
<g >
<title>firedrake.parloops.par_loop (3,172,765 us, 0.27%)</title><rect x="1152.6" y="151" width="3.2" height="15.0" fill="rgb(135.780313854389,161.617158209751,135.780313854389)" rx="2" ry="2" />
<text  x="1155.63" y="161.5" ></text>
</g>
<g >
<title>ParLoopExecute (1,748,871 us, 0.15%)</title><rect x="1113.6" y="263" width="1.8" height="15.0" fill="rgb(155.496249550446,138.804579886751,138.804579886751)" rx="2" ry="2" />
<text  x="1116.63" y="273.5" ></text>
</g>
<g >
<title>ParLoopExecute (11,549,640 us, 0.99%)</title><rect x="1177.1" y="167" width="11.6" height="15.0" fill="rgb(148.379509003822,148.379509003822,111.377620556985)" rx="2" ry="2" />
<text  x="1180.10" y="177.5" ></text>
</g>
<g >
<title>firedrake.tsfc_interface.compile_form (2,783,636 us, 0.24%)</title><rect x="695.5" y="231" width="2.8" height="15.0" fill="rgb(109.664913581509,145.46868129891,145.46868129891)" rx="2" ry="2" />
<text  x="698.52" y="241.5" ></text>
</g>
<g >
<title>MatResidual (212,908 us, 0.02%)</title><rect x="934.0" y="215" width="0.2" height="15.0" fill="rgb(145.777371108295,126.679513465006,145.777371108295)" rx="2" ry="2" />
<text  x="937.03" y="225.5" ></text>
</g>
<g >
<title>SCBackSub (201,808,990 us, 17.22%)</title><rect x="554.4" y="151" width="203.1" height="15.0" fill="rgb(156.389514161779,145.652941906975,145.652941906975)" rx="2" ry="2" />
<text  x="557.39" y="161.5" >SCBackSub</text>
</g>
<g >
<title>firedrake.matrix_free.operators.ImplicitMatrixContext.mult (118,522 us, 0.01%)</title><rect x="899.2" y="199" width="0.2" height="15.0" fill="rgb(110.806037252435,145.764528176557,145.764528176557)" rx="2" ry="2" />
<text  x="902.24" y="209.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (10,837,904 us, 0.92%)</title><rect x="739.7" y="215" width="10.9" height="15.0" fill="rgb(116.930280620895,116.930280620895,150.051022055657)" rx="2" ry="2" />
<text  x="742.69" y="225.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (15,787,936 us, 1.35%)</title><rect x="675.3" y="231" width="15.9" height="15.0" fill="rgb(155.362786648123,137.781364302277,137.781364302277)" rx="2" ry="2" />
<text  x="678.28" y="241.5" ></text>
</g>
<g >
<title>KSPSolve (237,650,446 us, 20.27%)</title><rect x="876.6" y="167" width="239.2" height="15.0" fill="rgb(143.725912343815,154.299310607656,154.299310607656)" rx="2" ry="2" />
<text  x="879.56" y="177.5" >KSPSolve</text>
</g>
<g >
<title>perfsolve (1,067,362,742 us, 91.06%)</title><rect x="115.5" y="71" width="1074.5" height="15.0" fill="rgb(144.27219885838,144.27219885838,155.343006230654)" rx="2" ry="2" />
<text  x="118.51" y="81.5" >perfsolve</text>
</g>
<g >
<title>firedrake.assemble.assemble_form (43,715,233 us, 3.73%)</title><rect x="713.5" y="183" width="44.0" height="15.0" fill="rgb(136.348054867007,152.386532743298,152.386532743298)" rx="2" ry="2" />
<text  x="716.54" y="193.5" >fir..</text>
</g>
<g >
<title>firedrake.assemble.assemble (54,448,306 us, 4.65%)</title><rect x="791.5" y="183" width="54.8" height="15.0" fill="rgb(121.9318087075,121.9318087075,151.019059749839)" rx="2" ry="2" />
<text  x="794.49" y="193.5" >fired..</text>
</g>
<g >
<title>RecoverFirstElim (99,233,784 us, 8.47%)</title><rect x="598.4" y="167" width="99.9" height="15.0" fill="rgb(151.157576501901,151.157576501901,124.840563047676)" rx="2" ry="2" />
<text  x="601.42" y="177.5" >RecoverFirs..</text>
</g>
<g >
<title>firedrake.tsfc_interface.compile_form (1,664,978 us, 0.14%)</title><rect x="844.6" y="231" width="1.7" height="15.0" fill="rgb(154.339541203093,154.339541203093,140.260853522683)" rx="2" ry="2" />
<text  x="847.62" y="241.5" ></text>
</g>
<g >
<title>all (1,172,177,348 us, 100%)</title><rect x="10.0" y="39" width="1180.0" height="15.0" fill="rgb(156.340080850331,145.273953185871,145.273953185871)" rx="2" ry="2" />
<text  x="13.00" y="49.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble (79,071,868 us, 6.75%)</title><rect x="618.7" y="183" width="79.6" height="15.0" fill="rgb(140.68513849802,160.818698384043,140.68513849802)" rx="2" ry="2" />
<text  x="621.72" y="193.5" >firedrak..</text>
</g>
<g >
<title>PCApply (7,836,139 us, 0.67%)</title><rect x="926.1" y="231" width="7.9" height="15.0" fill="rgb(146.47404718972,146.47404718972,155.769170423817)" rx="2" ry="2" />
<text  x="929.14" y="241.5" ></text>
</g>
<g >
<title>firedrake.assemble.assemble_form (431,707 us, 0.04%)</title><rect x="925.7" y="279" width="0.4" height="15.0" fill="rgb(137.34922595494,137.34922595494,154.003075991279)" rx="2" ry="2" />
<text  x="928.71" y="289.5" ></text>
</g>
<g >
<title>HybridInit (4,346,501 us, 0.37%)</title><rect x="1151.4" y="135" width="4.4" height="15.0" fill="rgb(153.692914490019,153.692914490019,137.12720099009)" rx="2" ry="2" />
<text  x="1154.44" y="145.5" ></text>
</g>
<g >
<title>firedrake.pointquery_utils.to_reference_coordinates (453,029 us, 0.04%)</title><rect x="1110.6" y="295" width="0.4" height="15.0" fill="rgb(145.868307167927,145.868307167927,155.651930419599)" rx="2" ry="2" />
<text  x="1113.59" y="305.5" ></text>
</g>
<g >
<title>firedrake.mg.embedded.TransferManager.op (4,924,119 us, 0.42%)</title><rect x="929.1" y="263" width="4.9" height="15.0" fill="rgb(107.165895220067,144.820787649647,144.820787649647)" rx="2" ry="2" />
<text  x="932.05" y="273.5" ></text>
</g>
<g >
<title>firedrake.slate.slac.compiler.compile_expression (5,307,328 us, 0.45%)</title><rect x="1078.9" y="311" width="5.4" height="15.0" fill="rgb(122.683399285924,122.683399285924,151.16452889405)" rx="2" ry="2" />
<text  x="1081.92" y="321.5" ></text>
</g>
<g >
<title>ParLoopExecute (2,110,079 us, 0.18%)</title><rect x="1153.7" y="167" width="2.1" height="15.0" fill="rgb(130.517390042068,130.517390042068,152.680785169432)" rx="2" ry="2" />
<text  x="1156.70" y="177.5" ></text>
</g>
<g >
<title>firedrake.tsfc_interface.compile_form (1,266,830 us, 0.11%)</title><rect x="1188.7" y="167" width="1.3" height="15.0" fill="rgb(149.36504265329,149.36504265329,116.153668242866)" rx="2" ry="2" />
<text  x="1191.72" y="177.5" ></text>
</g>
<g >
<title>ParLoopExecute (21,688,471 us, 1.85%)</title><rect x="728.8" y="199" width="21.8" height="15.0" fill="rgb(107.994272824851,145.03555221385,145.03555221385)" rx="2" ry="2" />
<text  x="731.77" y="209.5" ></text>
</g>
<g >
<title>ParLoopExecute (3,431,934 us, 0.29%)</title><rect x="109.6" y="103" width="3.4" height="15.0" fill="rgb(123.971647971481,163.539499167433,123.971647971481)" rx="2" ry="2" />
<text  x="112.58" y="113.5" ></text>
</g>
<g >
<title>ParLoop_Cells_wrap_wrap_slate_loopy_knl_3 (141,585 us, 0.01%)</title><rect x="926.0" y="311" width="0.1" height="15.0" fill="rgb(147.634297810235,147.634297810235,107.766212464984)" rx="2" ry="2" />
<text  x="929.00" y="321.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (1,170,171 us, 0.10%)</title><rect x="776.3" y="215" width="1.2" height="15.0" fill="rgb(154.699142425467,132.693425261916,132.693425261916)" rx="2" ry="2" />
<text  x="779.30" y="225.5" ></text>
</g>
<g >
<title>ParLoopExecute (1,646,034 us, 0.14%)</title><rect x="1102.4" y="295" width="1.6" height="15.0" fill="rgb(122.788779296856,122.788779296856,151.184925025198)" rx="2" ry="2" />
<text  x="1105.35" y="305.5" ></text>
</g>
<g >
<title>pyop2.parloop.JITModule.compile (5,761,418 us, 0.49%)</title><rect x="1182.9" y="183" width="5.8" height="15.0" fill="rgb(119.203392732892,147.941620338157,147.941620338157)" rx="2" ry="2" />
<text  x="1185.92" y="193.5" ></text>
</g>
<g >
<title>firedrake.pointquery_utils.to_reference_coordinates (344,896 us, 0.03%)</title><rect x="1115.5" y="263" width="0.3" height="15.0" fill="rgb(146.870251709991,155.11450970259,155.11450970259)" rx="2" ry="2" />
<text  x="1118.45" y="273.5" ></text>
</g>
<g >
<title>firedrake.mg.embedded.TransferManager.op (15,271,444 us, 1.30%)</title><rect x="1095.7" y="263" width="15.3" height="15.0" fill="rgb(152.536980472379,116.116850288242,116.116850288242)" rx="2" ry="2" />
<text  x="1098.67" y="273.5" ></text>
</g>
</g>
</svg>
